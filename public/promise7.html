<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>promise队列</title>
</head>
<script>
	function queue(things){
		let promise=Promise.resolve();
		things.forEach(thing=>{
			promise=promise.then(()=>{
				return new Promise(resolve=>{
					doThing(thing,()=>{
						resolve();
					})
				});
			})
		});
		return promise;
	}
	queue(['lots','of','things',...]);
</script>
<body>
	
</body>
</html>